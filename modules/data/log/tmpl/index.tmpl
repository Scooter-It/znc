<? I18N znc-log ?>
<? INC Header.tmpl ?>

<h3><? FORMAT "Configuration" ?></h3>
<div class="sectionbg">
    <div class="sectionbody">
        <form action="<? VAR ModPath TOP ?>" method="post">
            <? INC _csrf_check.tmpl ?>
            <h4><? FORMAT "Rules" ?></h4>
            <div class="sectionbody">
                <div class="subsection">
                    <textarea name="rules"><? LOOP Rules ?><? VAR Rule ?>
<? ENDLOOP ?></textarea>
                </div>
            </div>
            <h4><? FORMAT "Settings"?></h4>
            <div class="sectionbody">
                <div class="subsection">
                    <label>
                        <input type="checkbox" name="settings" value="joins" <? IF Joins ?>checked<? ENDIF ?>>
                        <? FORMAT "Log joins" ?>
                    </label>
                </div>
                <div class="subsection">
                    <label>
                        <input type="checkbox" name="settings" value="quits" <? IF Quits ?>checked<? ENDIF ?>>
                        <? FORMAT "Log quits" ?>
                    </label>
                </div>
                <div class="subsection">
                    <label>
                        <input type="checkbox" name="settings" value="nickchanges" <? IF NickChanges ?>checked<? ENDIF ?>>
                        <? FORMAT "Log nick changes" ?>
                    </label>
                </div>
            </div>
            <div class="subsection">
                <input type="submit" name="configuration" value="<? FORMAT "Save" ?>">
            </div>
        </form>
    </div>
</div>

<? IF Module != "Global" ?>
    <? IF Files ?>
        <h3><? FORMAT "File Browser" ?></h3>
        <div class="sectionbg">
            <div class="sectionbody">
                <ul style="list-style: none;">
                    <? LOOP Files ?>
                        <li>
                            <form action="<? VAR ModPath TOP ?>" method="post">
                                <? INC _csrf_check.tmpl ?>
                                <input type="hidden" name="path" value="<? VAR Long ?>">
                                <button type="submit"><? VAR Short ?></button>
                            </form>
                        </li>
                    <? ENDLOOP ?>
                </ul>
            </div>
        </div>
    <? ENDIF ?>
    <? IF Log ?>
        <h3><? FORMAT "Log Viewer" ?>(<? FORMAT "Page" ?> <? VAR Page ?>)</h3>
        <div class="sectionbg">
            <div class="sectionbody">
                <code style="display: block; margin-bottom: 0.5em;">
                    <? LOOP Log ?>
                        <? VAR Line ?><br>
                    <? ENDLOOP ?>
                </code>
                <? IF PrevOffsets ?>
                    <form action="<? VAR ModPath TOP ?>" method="post">
                        <? INC _csrf_check.tmpl ?>
                        <input type="hidden" name="path" value="<? VAR Path ?>">
                        <? LOOP PrevOffsets ?>
                            <input type="hidden" name="offsets" value="<? VAR Offset ?>">
                        <? ENDLOOP ?>
                        <button type="submit"><? FORMAT "Prev" ?></button>
                    </form>
                <? ENDIF ?>
                <? IF NextOffsets ?>
                    <form action="<? VAR ModPath TOP ?>" method="post">
                        <? INC _csrf_check.tmpl ?>
                        <input type="hidden" name="path" value="<? VAR Path ?>">
                        <? LOOP NextOffsets ?>
                            <input type="hidden" name="offsets" value="<? VAR Offset ?>">
                        <? ENDLOOP ?>
                        <button type="submit"><? FORMAT "Next" ?></button>
                    </form>
                <? ENDIF ?>
            </div>
        </div>
    <? ENDIF ?>
<? ENDIF ?>

<? INC Footer.tmpl ?>
